<html>
  <head>
    <script src="p5.js"></script>
    <script src="p5.sound.min.js"></script>
    <script src="snake.v2.js"></script>
  </head>

<body>
  <h1 id = "score">Snake Game</h1>
  <script>
    var s;
    var scl = 20;
    var vw = window.innerWidth;
    var vh = window.innerHeight;
    var food;
    var fRate = 10;
    var w = 500;//global width
    var h = 500;//global height
    
    function preload(){
      soundFormats('mp3','ogg');
      eat = loadSound('eat.mp3');
    }
    
    
    function setup() {
    createCanvas(500, 500);
    s = new Snake();
    foodLocation();
    }

    function draw() {
    background(85,3,47);
    frameRate(fRate);
    s.show();
    s.update();
    s.death();
    fill(255,0,0);// this is the apple
    rect(food.x, food.y, scl, scl); // shape of the apple
    if (s.eat(food)) {
      foodLocation();
    }
    
}

    function keyPressed() {
      if(keyCode===UP_ARROW) {
        s.dir(0,-1);
        }
      else if(keyCode===DOWN_ARROW) {
        s.dir(0, 1);
      }
      else if(keyCode===LEFT_ARROW) {
        s.dir(-1, 0);
      }
      else if(keyCode===RIGHT_ARROW) {
        s.dir(1,0);
      }
    }
    
    function foodLocation() {
     var cols = floor(width / scl); //make cols 20 pixels wide
     var rows = floor(height / scl); //make rows 20 pixels wide
     food = createVector(floor(random(cols)), floor(random(rows))); //generates random position for the food
     food.mult(scl);
}
  </script>
  
</body>
</html>